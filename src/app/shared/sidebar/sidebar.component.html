<div class="outer-hold">
    <div class="side-container" [ngClass]="{'collapsed': isCollapsed}">
        <div class="tab-toggel" [ngClass]="{'displayEnd': !isMultiMapView || isCollapsed , 'displayBetween': isMultiMapView && !isCollapsed }">
            <div class="arrow-hold" *ngIf="!isCollapsed && isMultiMapView">
                <mat-icon (click)="navigateToMultiMap()">west</mat-icon>
                <mat-icon>east</mat-icon>
            </div>
            <mat-icon (click)="toggleSidebar()" class="tgbtn" *ngIf="!isCollapsed">chevron_left</mat-icon>
            <mat-icon (click)="toggleSidebar()" class="tgbtn"*ngIf="isCollapsed">chevron_right</mat-icon>
        </div>
    
        <ng-container *ngIf="!isMultiMapView">
        <div class="sub-option" [ngClass]="{'active': selectedTab==='PANS-OPS'}"  (click)="navigateToFullMap()">
            <mat-icon class="maticon">dataset</mat-icon>
            <span>PANS-OPS</span>
        </div>
        <div class="sub-option" [ngClass]="{'active': selectedTab==='ENR'}"  (click)="selectedTab='ENR'">
            <mat-icon class="maticon">dataset</mat-icon>
            <span>ENR COMPATIBILITY</span>
        </div>
        <div class="sub-option" [ngClass]="{'active': selectedTab==='AIRPORT'}"  (click)="selectedTab='AIRPORT'">
            <mat-icon class="maticon">dataset</mat-icon>
            <span>AIRPORT COMPATIBILITY</span>
        </div>
    </ng-container>
    
    <ng-container *ngIf="isMultiMapView && !isCollapsed">
       
        <!-- <ng-container *ngFor="let opt of selectFormat">
        <div class="select">
            <label for="">{{opt.label}}</label>
            <select name="" id="">
                <ng-container *ngFor="let item of opt.options">
                    <option>{{item}}</option>
                </ng-container>
            </select>
        </div>
    </ng-container> -->

    <!-- <form [formGroup]="Airform" autocomplete="on" novalidate>
      <ng-container *ngFor="let opt of selectFormat">
        <div class="select">
          <label for="">{{ opt.label }}</label>
          <select [formControlName]="getFormControlName(opt.label)" (change)="onValueChange($event, opt.label)">
            <ng-container *ngFor="let item of opt.options">
              <option [value]="item">{{ item }}</option>
            </ng-container>
          </select>
        </div>
      </ng-container>
    </form> -->

    <form [formGroup]="Airform" autocomplete="on" novalidate>
      
  
          <!--Select Airport -->
          <div class="select">
              <label for="selectedAirport">Airport</label>
              <select formControlName="selectedAirport" [(ngModel)]="selectedAirport" id="selectedAirport" (change)="onValueChange($event)">
                  <option *ngFor="let option of optionsAirport" [value]="option.value">{{ option.label }}</option>
              </select>
          </div>
  
          <!--Select Runway -->
          <div class="select">
              <label for="selectedRunway">Runway</label>
              <select formControlName="selectedRunway" [(ngModel)]="selectedRunway" id="selectedRunway" (change)="onValueChange($event)">
                  <ng-container *ngIf="optionsBengaluruKIARunway && optionsBengaluruKIARunway.length > 0">
                      <option *ngFor="let option of optionsBengaluruKIARunway" [value]="option.value">{{ option.label }}
                      </option>
                  </ng-container>
                  <ng-container *ngIf="optionsVIJPJAIPURRunway && optionsVIJPJAIPURRunway.length > 0">
                      <option *ngFor="let option of optionsVIJPJAIPURRunway" [value]="option.value">{{ option.label }}
                      </option>
                  </ng-container>
                  <ng-container *ngIf="optionsVEPYPAKYONGRunway && optionsVEPYPAKYONGRunway.length > 0">
                      <option *ngFor="let option of optionsVEPYPAKYONGRunway" [value]="option.value">{{ option.label }}
                      </option>
                  </ng-container>
              </select>
              
          </div>
  
          <!--Select Type of Procedure -->
          <div class="select">
              <label for="selectedTypeofProcedure">Type of Procedure</label>
              <select formControlName="selectedTypeofProcedure" [(ngModel)]="selectedTypeofProcedure" id="selectedTypeofProcedure" (change)="onValueChange($event)">
                  <option *ngFor="let option of optionsRWY_09LTypeofProcedure" [value]="option.value">{{ option.label }}
                  </option>
              </select>
             
          </div>
  
          <!--Select Procedure Name -->
          <div class="select" *ngIf="!isCompare">
              <label for="selectedProcedureName">Procedure Name</label>
              <select formControlName="selectedProcedureName" [(ngModel)]="selectedProcedureName"  id="selectedProcedureName" (change)="onValueChange($event)">
                  <option *ngFor="let option of optionsProcedureName" [value]="option.value">{{ option.label }}</option>
              </select>


              
          </div>
        
          
          
          
          
  
      
  </form>
  <div class="select" *ngIf="isCompare">
    <label for="selectedProcedureName">Procedure Name</label>
    <div class="multihold">
      <input type="text" name="selectedOptions" id="selectedOptions" class="multi-select-container" readonly [ngModel]="selectedOptionstoshow.join(', ')" (click)="toggleDropdown()">
      
      <div class="multisection" *ngIf="isDropdownVisible">
        <!-- Part 1 Options -->
         <div>
        <div class="multipart" *ngFor="let item of multipart1; let i = index" (click)="toggleSelection(item, 'part1', i)">
          <span>
            <mat-icon>
              {{ isSelected(item, 'part1', i) ? 'check_box' : 'check_box_outline_blank' }}
            </mat-icon>
            <span class="txt-green">{{ item }}</span>
          </span>
        </div>
      </div>
        <!-- Part 2 Options -->
         <div>
        <div class="multipart" *ngFor="let item of multipart2; let i = index" (click)="toggleSelection(item, 'part2', i)">
          <span>
            <mat-icon>
              {{ isSelected(item, 'part2', i) ? 'check_box' : 'check_box_outline_blank' }}
            </mat-icon>
            <span class="txt-red">{{ item }}</span>
          </span>
        </div>
      </div>
      </div>
    </div>
  </div>
    
    
    <div class="toggle-outer">
        <div class="tog">
        <label for="">AIXM</label>
        <div class="toggle-container">
            <label class="toggle-label">
              <input type="checkbox" (change)="onToggleChange($event)">
              <span class="toggle-switch"></span>
            </label>
          </div>
        </div>
    
        <div class="tog">
            <label for="">ARINC 424</label>
            <div class="toggle-container">
                <label class="toggle-label">
                  <input type="checkbox" >
                  <span class="toggle-switch"></span>
                </label>
              </div>
            </div>
    </div>
    
    <div class="button-outer">
    
        <button type="button">Export PDF</button>
        <button type="button">Export GeoJSON</button>
        <button type="button">Export CSV</button>
    </div>
    
    </ng-container>
    </div>
    
    <div class="tab" *ngIf="isAIXM && !isCompare">
    
        <div class="table-container">
    
            <ng-container *ngFor="let item of cropData; let j=index">
    
                <div class="title-hold">
            <h4>{{ item.title }}</h4>
            <mat-icon (click)="toggleExpand()" *ngIf="j===0">open_in_full</mat-icon>
        </div>
            <table>
              <thead>
                <tr>
                  <th *ngFor="let column of item.columns">{{ column }}</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let row of item.rows">
                  <td>{{ row.waypointIdentifier }}</td>
                  <td>{{ row.pathDescriptor }}</td>
                  <td>{{ row.flyOver }}</td>
                  <td>{{ row.courseAngle }}</td>
                  <td>{{ row.turnDirection }}</td>
                  <td>{{ row.upperLimitAltitude }}</td>
                  <td>{{ row.lowerLimitAltitude }}</td>
                  <td>{{ row.speedLimit }}</td>
                  <td>{{ row.tmDst }}</td>
                  <td>{{ row.va }}</td>
                  <td>{{ row.navigationSpecification }}</td>
                </tr>
              </tbody>
            </table>
            </ng-container>
          </div>
          
              
    </div>
    
    <div class="tab" *ngIf="isAIXM && isCompare">
    
      <div class="table-container">
        <div class="grid-container">
          <div class="grid-item">
            <ng-container >
    
              <div class="title-hold">
          <h4>{{ compareObj.title }}</h4>
          <!-- <mat-icon (click)="toggleExpand()" *ngIf="j===0">open_in_full</mat-icon> -->
      </div>
          <table>
            <thead>
              <tr>
                <th *ngFor="let column of compareObj.columns">{{ column }}</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let row of compareObj.rows">
                <td [ngClass]="{'bg-red': row.waypointIdentifier.flag}">{{ row.waypointIdentifier.value }}</td>
                <td [ngClass]="{'bg-red': row.pathDescriptor.flag}">{{ row.pathDescriptor.value }}</td>
                <td [ngClass]="{'bg-red': row.flyOver.flag}">{{ row.flyOver.value }}</td>
                <td [ngClass]="{'bg-red': row.courseAngle.flag}">{{ row.courseAngle.value }}</td>
                <td [ngClass]="{'bg-red': row.turnDirection.flag}">{{ row.turnDirection.value }}</td>
                <td [ngClass]="{'bg-red': row.upperLimitAltitude.flag}">{{ row.upperLimitAltitude.value }}</td>
                <td [ngClass]="{'bg-red': row.lowerLimitAltitude.flag}">{{ row.lowerLimitAltitude.value }}</td>
                <td [ngClass]="{'bg-red': row.speedLimit.flag}">{{ row.speedLimit.value }}</td>
                <td [ngClass]="{'bg-red': row.tmDst.flag}">{{ row.tmDst.value }}</td>
                <td [ngClass]="{'bg-red': row.va.flag}">{{ row.va.value }}</td>
                <td [ngClass]="{'bg-red': row.navigationSpecification.flag}">{{ row.navigationSpecification.value }}</td>
              </tr>
            </tbody>
          </table>
          </ng-container>
          </div>
          <div class="grid-item">
            <ng-container >
    
              <div class="title-hold">
          <h4>{{ obj2.title }}</h4>
          <!-- <mat-icon (click)="toggleExpand()" *ngIf="j===0">open_in_full</mat-icon> -->
      </div>
          <table>
            <thead>
              <tr>
                <th *ngFor="let column of obj2.columns">{{ column }}</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let row of obj2.rows">
                <td>{{ row.waypointIdentifier }}</td>
                <td>{{ row.pathDescriptor }}</td>
                <td>{{ row.flyOver }}</td>
                <td>{{ row.courseAngle }}</td>
                <td>{{ row.turnDirection }}</td>
                <td>{{ row.upperLimitAltitude }}</td>
                <td>{{ row.lowerLimitAltitude }}</td>
                <td>{{ row.speedLimit }}</td>
                <td>{{ row.tmDst }}</td>
                <td>{{ row.va }}</td>
                <td>{{ row.navigationSpecification }}</td>
              </tr>
            </tbody>
          </table>
          </ng-container>
          </div>
        </div>
        

      </div>    
  </div>
  </div>